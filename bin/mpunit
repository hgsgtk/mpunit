#!/usr/bin/env php
<?php declare(strict_types=1);

use MPUnit\Command;

require __DIR__ . '/../vendor/autoload.php';

// When assertion is failed, throw AssertError
ini_set('assert.exception', '1');

// When assertion is failed, omit PHP warning
assert_options(ASSERT_WARNING, '0');

// Get test dir by argument
$argv = $_SERVER['argv'];
$testDir = $argv[1] ?? 'tests';

echo 'Mini PHP xUnit Testing.' . PHP_EOL . PHP_EOL;
chdir($testDir);
exit((new Command())->run());
